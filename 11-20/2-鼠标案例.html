<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
    #box{
        width: 200px;
        height: 200px;
        background:#000;
        position: absolute;
        left: 0;
        top: 0;
        cursor: move;
    }
    </style>
</head>
<body style="height:2000px">
    <div id="box"></div>
        <button id="btn">按钮</button>
        <button id="btn2">按钮2</button>
    <script>
    btn2.onclick=function(){
        alert('按钮2')
    }
    function change(cb){
        let timer;
        btn.onmousedown=function(){
            let time=+new Date;
            timer=setInterval(()=>{
                let now=new Date;
                if(now - time >1000){
                    console.log('长时间按着')
                    cb();//回调函数 44行
                }
            }) 
        }
        btn.onmouseup=function(){
            clearInterval(timer);
        }
    }
    let num= 1;
    change(function(){//长时间按着才会出效果
        num -=0.01;
        box.style.opacity=num;
    })
    box.onmousemove=function(ev){
        // console.log(ev);
        this.style.left = ev.clientX - this.clientWidth/2 + 'px';
        this.style.top = ev.pageY - this.clientHeight/2+ 'px';
    }
    </script>
</body>
</html>